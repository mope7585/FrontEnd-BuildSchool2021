<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //有AB兩件事情再做
        //AB兩件事情做完，才能做其他事情
        function A(){
            return new Promise(function(resolve,reject){
                console.log(A);

                let isSuccess = true;
                if(isSuccess){
                    //成功
                    return resolve('A 成功')
                }
                else{
                    //失敗
                    return reject('A 失敗')
                }
            })
           
        }
        function B(){
            return new Promise((resolve,reject)=>{
                console.log('B')

                let isSuccess = true;
                if(isSuccess){
                    resolve('B 成功')
                }
                else{
                    reject('B 失敗')
                }
            })
        }
       
        window.onload = function(){
            // A()
            // .then(a => {
            //     console.log(a)
            //     return B();
            // })
            // .then(b => {
            //     console.log(b);
            //     console.log('可以做其他事情囉')
            // })
            // .catch(err=>{
            //     console.warn(err)
            // })
            Promise.All([A(),B()])
                .then(res => {
                    let [res1,res2] = res;
                    console.log(res1);
                    console.log(res2);
                    console.log('可以做其他事情囉')
                })
                .catch(err =>{
                    console.warn(err);
                })
        }
    </script>
</body>
</html>